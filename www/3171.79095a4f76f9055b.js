"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3171],{3171:(b,p,l)=>{l.r(p),l.d(p,{EditProfilePageModule:()=>v});var f=l(6895),s=l(433),o=l(4556),c=l(2598),u=l(655),m=l(6388),e=l(8256),h=l(427);const P=[{path:"",component:(()=>{class t{constructor(n,i){this.alertController=n,this.apiService=i,this.name=this.apiService.profile.full_name,this.dob=this.apiService.profile.dob,this.gender=this.apiService.profile.gender,this.bio=this.apiService.profile.bio,this.randomDate="",this.profile=this.apiService.profileobject}OpenGallery(){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Add Photo",buttons:[{text:"Camera",cssClass:"danger",handler:()=>{}},{text:"Gallery",cssClass:"danger",handler:()=>{}}]})).present()})}ngOnInit(){this.randomDate=Date.now().toString()}uploadAvatar(){return(0,u.mG)(this,void 0,void 0,function*(){const n=yield this.apiService.createLoader();try{const i=yield m.V1.getPhoto({resultType:m.dk.DataUrl}),r=yield fetch(i.dataUrl).then(g=>g.blob()).then(g=>new File([g],"my-file",{type:"image/JPEG"})),a=this.apiService.profile.id;yield n.present();let M=yield this.apiService.uploadAvatar(a,r);console.log(M)}catch(i){this.apiService.showAlert("Uploading error",i.message)}finally{yield n.dismiss(),this.ngOnInit()}})}updateProfile(){this.apiService.updateProfile({full_name:this.name,dob:this.dob,gender:this.gender,bio:this.bio})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.Br),e.Y36(h.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-profile"]],decls:39,vars:8,consts:[["color","danger"],["slot","start"],[1,"ion-padding"],[1,"ion-no-padding"],[1,"ion-text-center",2,"position","relative"],[2,"margin","auto","height","140px","width","140px"],[1,"profileImage",2,"height","100%","width","100%","object-fit","cover",3,"src"],["vertical","bottom","slot","fixed","horizontal","center",3,"click"],["color","danger","size","small",2,"margin-left","18px"],["name","camera-outline"],[1,"ion-text-center"],[1,"bold","mt-1"],[1,"m-0"],["lines","none",1,"ion-margin-top"],["color","danger","slot","start","name","person-outline"],["type","text","placeholder","Full Name",3,"ngModel","ngModelChange"],["color","danger","slot","start","name","information-circle-outline"],["type","text","placeholder","This is my bio...",3,"ngModel","ngModelChange"],["lines","none"],["slot","start","color","danger","name","male-female-outline"],["multiple","false",3,"ngModel","placeholder","ngModelChange"],["slot","end","value","male"],["slot","end","value","female"],["color","danger","slot","start","name","calendar-number-outline"],["type","date","color","medium","placeholder","Date Of Birth",3,"ngModel","ngModelChange"],["routerDirection","root","expand","block","color","danger",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Edit Profile"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-card-content",3)(8,"div",4)(9,"ion-avatar",5),e._UZ(10,"img",6),e.qZA(),e.TgZ(11,"ion-fab",7),e.NdJ("click",function(){return i.uploadAvatar()}),e.TgZ(12,"ion-fab-button",8),e._UZ(13,"ion-icon",9),e.qZA()()(),e.TgZ(14,"div",10)(15,"h2",11)(16,"ion-text",0),e._uU(17),e.qZA()(),e.TgZ(18,"p",12),e._uU(19),e.qZA()()(),e.TgZ(20,"ion-item",13),e._UZ(21,"ion-icon",14),e.TgZ(22,"ion-input",15),e.NdJ("ngModelChange",function(a){return i.name=a}),e.qZA()(),e.TgZ(23,"ion-item",13),e._UZ(24,"ion-icon",16),e.TgZ(25,"ion-input",17),e.NdJ("ngModelChange",function(a){return i.bio=a}),e.qZA()(),e.TgZ(26,"ion-item",18),e._UZ(27,"ion-icon",19),e.TgZ(28,"ion-select",20),e.NdJ("ngModelChange",function(a){return i.gender=a}),e.TgZ(29,"ion-select-option",21),e._uU(30,"Male"),e.qZA(),e.TgZ(31,"ion-select-option",22),e._uU(32,"Female"),e.qZA()()(),e.TgZ(33,"ion-item",18),e._UZ(34,"ion-icon",23),e.TgZ(35,"ion-input",24),e.NdJ("ngModelChange",function(a){return i.dob=a}),e.qZA()(),e.TgZ(36,"ion-button",25),e.NdJ("click",function(){return i.updateProfile()}),e._uU(37," Update Profile "),e.qZA(),e._UZ(38,"ion-modal"),e.qZA()),2&n&&(e.xp6(10),e.s9C("src",i.profile.avatar_url+"?"+i.randomDate,e.LSH),e.xp6(7),e.Oqu(i.profile.full_name),e.xp6(2),e.Oqu(i.profile.bio),e.xp6(3),e.Q6J("ngModel",i.name),e.xp6(3),e.Q6J("ngModel",i.bio),e.xp6(3),e.s9C("placeholder",i.gender),e.Q6J("ngModel",i.gender),e.xp6(7),e.Q6J("ngModel",i.dob))},dependencies:[s.JJ,s.On,o.BJ,o.oU,o.YG,o.Sm,o.FN,o.W2,o.IJ,o.W4,o.Gu,o.gu,o.pK,o.Ie,o.t9,o.n0,o.yW,o.wd,o.sr,o.ki,o.QI,o.j9,o.cs],styles:["ion-select[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}ion-fab[_ngcontent-%COMP%]{margin:6em 1em -8px 18px!important}ion-item[_ngcontent-%COMP%]{margin-top:25px!important;border-radius:10px}ion-button[_ngcontent-%COMP%]{margin-top:20px!important}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(P),c.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,s.u5,o.Pc,Z]}),t})()}}]);